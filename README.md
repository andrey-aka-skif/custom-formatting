# FormattingUtility

[![License](https://img.shields.io/static/v1?label=license&message=proprietary&color=blue)](https://github.com/andrey-aka-skif/kdepa-api/blob/master/LICENSE)
[![CI/CD Pipeline](https://github.com/andrey-aka-skif/custom-formatting/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/andrey-aka-skif/custom-formatting/actions/workflows/ci-cd.yml)

Содержит функции для форматирования входных значений по определенным правилам:
- форматирование числового значения и возврат его строкового представления по правилам метрологии
- форматирование числового значения и возврат его объектного представления по правилам метрологии
- форматирование числового значения и возврат его строкового процентного представления по правилам метрологии

## toStandardFormString()
Функция принимает числовое значение и возвращает его строковое представление по правилам метрологии:

### Общий принцип
Функция всегда сохраняет три значащих цифры в выходной строке. Формат представления зависит от абсолютного значения входного числа.

### Алгоритм работы
Для чисел ≥1000:

Возвращает значение в экспоненциальной форме

Пример: 4520 → "4,52·10³"

Для чисел [100, 1000):

Возвращает целое число (без дробной части)

Пример: 230.5 → "230"

Для чисел [10, 100):

Возвращает значение с 1 десятичным знаком

Пример: 24.567 → "24,6"

Для чисел [1, 10):

Возвращает значение с 2 десятичными знаками

Пример: 3.7812 → "3,78"

Для чисел [0.1, 1):

Возвращает значение с 3 десятичными знаками

Пример: 0.6543 → "0,654"

Для чисел <0.1:

Возвращает значение в экспоненциальной форме

Пример: 0.0282 → "2,82·10⁻²"

## toStandardFormObject()
Функция принимает числовое значение и обрабатывает его по тем же правилам, что и toStandadtFormString(). Но возвращает объект вида:
```
{
    sign: '-',
    mantissa: '1.23',
    base: '10',
    exponent: '3',
}
```

## toPercentageString()
Функция принимает числовое значение и обрабатывает его по правилам метрологии для процентов:

Всегда возвращает 1 десятичный знак

Для значений <0.05% возвращает "0,0%"

Примеры:

100 → "100,0%"

65.432 → "65,4%"

0.03 → "0,0%"

## Примеры работы
| Входное значение | Результат   |
| ---------------- | ----------- |
| 4520             | "4,52·10³"  |
| 230.5            | "230"       |
| 24.567           | "24,6"      |
| 3.7812           | "3,78"      |
| 0.6543           | "0,654"     |
| 0.0282           | "2,82·10⁻²" |
| 100 (процент)    | "100,0%"    |
| 0.03 (процент)   | "0,0%"      |
